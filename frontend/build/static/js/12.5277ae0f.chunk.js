(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[12],{49:function(e,a,t){"use strict";var l=t(0),n=t.n(l);a.a=function(e){var a=e.children;return n.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},a)}},50:function(e,a,t){"use strict";var l=t(0),n=t.n(l);a.a=function(e){var a=e.children;return n.a.createElement("h2",{className:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300"},a)}},51:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return r})),t.d(a,"e",(function(){return m})),t.d(a,"d",(function(){return s}));var l=t(1),n=u({jobTitle:"",society:"",place:"",date:""}),c={name:""},r=u({title:"",school:"",place:"",date:""}),m=u({name:"",text:""}),s=Object(l.a)(Object(l.a)({},u({name:"",stacks:[],date:""})),{},{file:void 0,url:""});function u(e){return{en:Object(l.a)({},e),fr:Object(l.a)({},e)}}},65:function(e,a,t){"use strict";t.r(a);var l=t(6),n=t(1),c=t(13),r=t(0),m=t.n(r),s=t(22),u=t(17),i=t(49),o=t(21),b=t(52),d=t(50),E=t(26),f=t(51);a.default=function(){var e=Object(s.b)(),a=Object(r.useState)(f.d),t=Object(c.a)(a,2),p=t[0],g=t[1],h=Object(s.c)((function(e){return e.projects.collection})),j=Object(r.useState)(!1),v=Object(c.a)(j,2),N=v[0],O=v[1],C=Object(r.useState)(1),y=Object(c.a)(C,2),k=y[0],x=y[1],T=Object(r.useState)([]),w=Object(c.a)(T,2),I=w[0],S=w[1];Object(r.useEffect)((function(){e(E.a.getAll())}),[e]);var L=h.items.length,P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?function(a){return g(Object(n.a)(Object(n.a)({},p),{},Object(l.a)({},e,Object(n.a)(Object(n.a)({},p[e]),{},Object(l.a)({},a.target.name,a.target.value)))))}:function(e){return g(Object(n.a)(Object(n.a)({},p),{},{url:e.target.value}))}};return Object(r.useEffect)((function(){h.items.length>0&&S(h.items.slice(10*(k-1),10*k))}),[k,h.items]),m.a.createElement(m.a.Fragment,null,m.a.createElement(i.a,null,"Projects"),m.a.createElement("div",null,m.a.createElement(o.Button,{className:"mb-5",iconLeft:b.EditIcon,onClick:function(){return O(!N)}},N?"Fermer":"Ajouter"),N&&m.a.createElement("div",{className:"flex flex-col px-4 py-3 mb-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},m.a.createElement("div",{className:"flex"},m.a.createElement("div",{className:"flex-1 px-4 py-3 mb-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},m.a.createElement(d.a,null,"Fran\xe7ais"),m.a.createElement(o.Label,null,m.a.createElement("span",null,"Name"),m.a.createElement(o.Input,{name:"name",className:"mt-1",placeholder:"Crazy Party",onChange:P("fr")})),m.a.createElement(o.Label,null,m.a.createElement("span",null,"Stacks"),m.a.createElement(o.Input,{name:"stacks",className:"mt-1",placeholder:"Stacks",onChange:P("fr")})),m.a.createElement(o.Label,null,m.a.createElement("span",null,"Date"),m.a.createElement(o.Input,{name:"date",className:"mt-1",placeholder:"Novembre 2021",onChange:P("fr")}))),m.a.createElement("div",{className:"flex-1 px-4 py-3 mb-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},m.a.createElement(d.a,null,"English"),m.a.createElement(o.Label,null,m.a.createElement("span",null,"Name"),m.a.createElement(o.Input,{name:"name",className:"mt-1",placeholder:"Crazy Party",onChange:P("en")})),m.a.createElement(o.Label,null,m.a.createElement("span",null,"Stacks"),m.a.createElement(o.Input,{name:"stacks",className:"mt-1",placeholder:"Stacks",onChange:P("en")})),m.a.createElement(o.Label,null,m.a.createElement("span",null,"Date"),m.a.createElement(o.Input,{name:"date",className:"mt-1",placeholder:"Novembre 2021",onChange:P("en")})))),m.a.createElement(o.Label,null,m.a.createElement("span",null,"Image"),m.a.createElement("input",{type:"file",onChange:function(e){var a=e.target.files[0];g(Object(n.a)(Object(n.a)({},p),{},{file:a}))},name:"file"})),m.a.createElement(o.Button,{className:"mb-5 self-end",iconLeft:b.EditIcon,onClick:function(){var a=new FormData;for(var t in p)if("en"===t||"fr"===t){var l={};for(var n in p[t]){if(""===p[t][n])return;l[n]=p[t][n],a.append(n,JSON.stringify(l))}}else"url"===t&&a.append(t,p[t]);e(E.a.upload(a))}},"Ajouter"))),h.fetching&&m.a.createElement("p",null,"Chargement..."),h.loaded&&h.items.length>0&&m.a.createElement(o.TableContainer,{className:"mb-8"},m.a.createElement(o.Table,null,m.a.createElement(o.TableHeader,null,m.a.createElement("tr",null,m.a.createElement(o.TableCell,null,"Name"),m.a.createElement(o.TableCell,null,"Stacks"),m.a.createElement(o.TableCell,null,"Date"),m.a.createElement(o.TableCell,null,"Actions"))),m.a.createElement(o.TableBody,null,I.map((function(a,t){return console.log(a),m.a.createElement(o.TableRow,{key:t},m.a.createElement(o.TableCell,null,m.a.createElement("div",{className:"flex items-center text-sm"},m.a.createElement("div",null,m.a.createElement("p",{className:"font-semibold"},a.fr.name)))),m.a.createElement(o.TableCell,null,m.a.createElement("span",{className:"text-sm"},"$ ",a.fr.society)),m.a.createElement(o.TableCell,null,a.fr.stacks),m.a.createElement(o.TableCell,null,m.a.createElement("span",{className:"text-sm"},a.fr.date)),m.a.createElement(o.TableCell,null,m.a.createElement("div",{className:"flex items-center space-x-4"},m.a.createElement(u.b,{to:"/pf/projects/".concat(a._id)},m.a.createElement(o.Button,{layout:"link",size:"icon","aria-label":"Edit"},m.a.createElement(b.EditIcon,{className:"w-5 h-5","aria-hidden":"true"}))),m.a.createElement(o.Button,{layout:"link",size:"icon","aria-label":"Delete",onClick:(l=a._id,function(){e(E.a.deleteItem(l))})},m.a.createElement(b.TrashIcon,{className:"w-5 h-5","aria-hidden":"true"})))));var l})))),m.a.createElement(o.TableFooter,null,m.a.createElement(o.Pagination,{totalResults:L,resultsPerPage:10,onChange:function(e){x(e)},label:"Table navigation"}))))}}}]);
//# sourceMappingURL=12.5277ae0f.chunk.js.map