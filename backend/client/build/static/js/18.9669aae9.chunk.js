(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[18],{217:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(26),r=t(25),s=t(66),u=t(27);a.default=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.config.dataLists}));return Object(n.useEffect)((function(){e(u.a.getSelectsLists())}),[]),!a.loaded||a.fetching?c.a.createElement("p",null,"Chargement..."):c.a.createElement(s.a,{title:"Email Template",type:"emailTemplates",options:{selectKeys:{process:"_id"}}},(function(e,t){var n;return c.a.createElement("div",null,c.a.createElement("div",{className:"px-4 py-3 mb-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},c.a.createElement(r.Label,null,c.a.createElement("span",null,"Name"),c.a.createElement(r.Input,{name:"name",className:"mt-1",value:e.values.name,onChange:t})),c.a.createElement(r.Label,null,c.a.createElement("span",null,"Subject"),c.a.createElement(r.Input,{name:"subject",value:e.values.subject,className:"mt-1",onChange:t})),c.a.createElement(r.Label,null,c.a.createElement("span",null,"Header"),c.a.createElement(r.Textarea,{name:"header",value:e.values.header,className:"mt-1",onChange:t})),c.a.createElement(r.Label,null,c.a.createElement("span",null,"Content"),c.a.createElement(r.Textarea,{name:"content",value:e.values.content,className:"mt-1",onChange:t})),c.a.createElement(r.Label,null,c.a.createElement("span",null,"Footer"),c.a.createElement(r.Textarea,{name:"footer",className:"mt-1",value:e.values.footer,onChange:t})),c.a.createElement(r.Label,null,c.a.createElement("span",null,"Process"),c.a.createElement(r.Select,{className:"mt-1",value:e.values.process,name:"process",onChange:t,placeholder:"select a value"},c.a.createElement("option",{key:"process_default",value:""}),null===(n=a.processesList)||void 0===n?void 0:n.map((function(e){return c.a.createElement("option",{key:"process_"+e.name,value:e._id},e.name)})))),c.a.createElement(r.Label,null,c.a.createElement("span",null,"Status"),c.a.createElement(r.Select,{className:"mt-1",value:e.values.status,name:"status",onChange:t},c.a.createElement("option",{value:"first"},"PREMIER ENVOI"),c.a.createElement("option",{value:"relance"},"RELANCE")))))}))}},59:function(e,a,t){"use strict";var n=t(0),c=t.n(n);a.a=function(e){var a=e.children;return c.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},a)}},61:function(e,a,t){"use strict";t.r(a),t.d(a,"experiencesSchema",(function(){return c})),t.d(a,"learningsSchema",(function(){return l})),t.d(a,"educationsSchema",(function(){return r})),t.d(a,"skillsSchema",(function(){return s})),t.d(a,"projectsSchema",(function(){return u})),t.d(a,"companiesSchema",(function(){return o})),t.d(a,"processesSchema",(function(){return m})),t.d(a,"sendingConfigsSchema",(function(){return d})),t.d(a,"emailTemplatesSchema",(function(){return f}));var n=t(1),c=i({title:"",society:"",place:"",date:""}),l={name:""},r=i({title:"",school:"",place:"",date:""}),s=i({name:"",text:""}),u=Object(n.a)(Object(n.a)({},i({name:"",stacks:[],date:""})),{},{file:void 0,url:""});function i(e){return{en:Object(n.a)({},e),fr:Object(n.a)({},e)}}var o={name:"",address:"",email:"",contactGender:"0",contactLastname:"",contactFirstname:""},m={name:""},d={company:"",process:"",status:"",customText:"",lastMailDate:"",nextMailDate:"",enabled:!0},f={name:"",subject:"",header:"",content:"",footer:"",status:"first",process:""}},66:function(e,a,t){"use strict";var n=t(3),c=t(1),l=t(14),r=t(0),s=t.n(r),u=t(26),i=t(4),o=t(59),m=t(25),d=t(27),f=t(31),p=t(30),v=t(29),b=t(28),E=t(32),g=t(34),h=t(35),j=t(33),O={config:d.a,learnings:f.a,experiences:p.a,educations:v.a,skills:b.a,companies:E.a,processes:g.a,emailTemplates:h.a,sendingConfigs:j.a},y=t(61),S=t(60),N=function(e){return s.a.createElement("div",null,e.children,s.a.createElement(m.Button,{className:"mb-5 self-end",iconLeft:S.EditIcon,onClick:e.save},e.isEditForm?"Enregistrer les modifications":"Ajouter"))};a.a=function(e){var a=Object(i.i)().id,t=Object(u.b)(),d=Object(i.g)(),f=Object(r.useState)({loaded:!1,values:JSON.parse(JSON.stringify(y[e.type+"Schema"]))}),p=Object(l.a)(f,2),v=p[0],b=p[1],E=Object(u.c)((function(a){return a[e.type].item})),g=e.language?function(e){return function(a){a.persist(),b((function(t){return Object(c.a)(Object(c.a)({},t),{},{values:Object(c.a)(Object(c.a)({},t.values),{},Object(n.a)({},e,Object(c.a)(Object(c.a)({},t.values[e]),{},Object(n.a)({},a.target.name,a.target.value))))})}))}}:function(e){e.persist(),b((function(a){return Object(c.a)(Object(c.a)({},a),{},{values:Object(c.a)(Object(c.a)({},a.values),{},Object(n.a)({},e.target.name,e.target.value))})}))};return Object(r.useEffect)((function(){a&&t(O[e.type].getOne(a))}),[a]),Object(r.useEffect)((function(){if(E.loaded&&!E.fetching){var a=JSON.parse(JSON.stringify(v.values));if(e.language)for(var t in a)for(var n in a[t]){var c;if("undefined"!==typeof E.data[t][n])(null===(c=e.options)||void 0===c?void 0:c.selectKeys)&&e.options.selectKeys[n]?a[t][n]=E.data[t][n][e.options.selectKeys[n]]:a[t][n]=E.data[t][n]}else for(var l in a){var r;if("undefined"!==typeof E.data[l])(null===(r=e.options)||void 0===r?void 0:r.selectKeys)&&e.options.selectKeys[l]?a[l]=E.data[l][e.options.selectKeys[l]]:a[l]=E.data[l]}b({values:a,loaded:!0})}}),[E.loaded,E.fetching]),s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,null,e.title),s.a.createElement("div",null,s.a.createElement(m.Button,{className:"mb-3",onClick:function(){return d.goBack()}},"Revenir")),v.loaded&&!E.fetching&&s.a.createElement(N,{save:function(){t(O[e.type].update({id:a,params:v.values}))},isEditForm:!0},!0===E.error.status&&s.a.createElement(m.Alert,{type:"warning"},E.error.message),e.children(v,g,(function(e){b((function(a){return Object(c.a)(Object(c.a)({},a),{},{values:Object(c.a)(Object(c.a)({},a.values),{},Object(n.a)({},e.target.name,e.target.checked))})}))}))))}}}]);
//# sourceMappingURL=18.9669aae9.chunk.js.map