{"version":3,"sources":["assets/img/login-office.jpeg","assets/img/login-office-dark.jpeg","pages/Login.js"],"names":["module","exports","Login","useState","username","password","credentials","setCredentials","React","useContext","SessionContext","session","login","dispatch","useEffect","type","AUTH","GET_ADMIN","handleChange","e","target","name","value","loggedIn","to","className","onKeyPress","key","aria-hidden","src","ImageLight","alt","ImageDark","placeholder","onChange","block","onClick"],"mappings":"gIAAAA,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,gD,qJCyG5BC,UAjGf,WACE,MAAsCC,mBAAS,CAC7CC,SAAU,GACVC,SAAU,KAFZ,mBAAOC,EAAP,KAAoBC,EAApB,KAIA,EAAqCC,IAAMC,WAAWC,KAA9CC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAOC,EAAxB,EAAwBA,SAExBC,qBAAU,WACRD,EAAS,CAAEE,KAAMC,IAAKC,cACrB,CAACJ,IAEJ,IAAMK,EAAe,SAACC,GACpBZ,EAAe,2BAAKD,GAAN,kBAAoBa,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,UAS7D,OAAIX,EAAQY,SACH,kBAAC,IAAD,CAAUC,GAAG,MAIpB,yBACEC,UAAU,iEACVC,WAbmB,SAACP,GACR,UAAVA,EAAEQ,KACJf,EAAMN,KAaN,yBAAKmB,UAAU,kGACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,2BACb,yBACEG,cAAY,OACZH,UAAU,yCACVI,IAAKC,IACLC,IAAI,WAEN,yBACEH,cAAY,OACZH,UAAU,+CACVI,IAAKG,IACLD,IAAI,YAGR,0BAAMN,UAAU,yDACd,yBAAKA,UAAU,UACb,wBAAIA,UAAU,+DAAd,SAGA,kBAAC,QAAD,KACE,6CACA,kBAAC,QAAD,CACEA,UAAU,OACVV,KAAK,OACLM,KAAK,WACLY,YAAY,oBACZX,MAAOhB,EAAYF,SACnB8B,SAAUhB,KAId,kBAAC,QAAD,CAAOO,UAAU,QACf,8CACA,kBAAC,QAAD,CACEA,UAAU,OACVV,KAAK,WACLM,KAAK,WACLC,MAAOhB,EAAYD,SACnB4B,YAAY,kBACZC,SAAUhB,KAId,kBAAC,SAAD,CAAQO,UAAU,OAAOU,OAAK,EAACC,QAAS,kBAAMxB,EAAMN,KAApD,gBAIA,wBAAImB,UAAU,SAEd,uBAAGA,UAAU,QACX,kBAAC,IAAD,CACEA,UAAU,2EACVD,GAAG,oBAFL","file":"static/js/25.c6e54ccf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login-office.72742c2e.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/login-office-dark.cb4a995f.jpeg\";","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport ImageLight from \"../assets/img/login-office.jpeg\";\r\nimport ImageDark from \"../assets/img/login-office-dark.jpeg\";\r\nimport { Label, Input, Button } from \"@windmill/react-ui\";\r\nimport { SessionContext, AUTH } from \"../reducers/session\";\r\n\r\nfunction Login() {\r\n  const [credentials, setCredentials] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const { session, login, dispatch } = React.useContext(SessionContext);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: AUTH.GET_ADMIN });\r\n  }, [dispatch]);\r\n\r\n  const handleChange = (e) => {\r\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      login(credentials);\r\n    }\r\n  };\r\n\r\n  if (session.loggedIn) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900\"\r\n      onKeyPress={handleKeyPress}\r\n    >\r\n      <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\r\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\r\n          <div className=\"h-32 md:h-auto md:w-1/2\">\r\n            <img\r\n              aria-hidden=\"true\"\r\n              className=\"object-cover w-full h-full dark:hidden\"\r\n              src={ImageLight}\r\n              alt=\"Office\"\r\n            />\r\n            <img\r\n              aria-hidden=\"true\"\r\n              className=\"hidden object-cover w-full h-full dark:block\"\r\n              src={ImageDark}\r\n              alt=\"Office\"\r\n            />\r\n          </div>\r\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\r\n            <div className=\"w-full\">\r\n              <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\r\n                Login\r\n              </h1>\r\n              <Label>\r\n                <span>Utilisateur</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  placeholder=\"Nom d'utilisateur\"\r\n                  value={credentials.username}\r\n                  onChange={handleChange}\r\n                />\r\n              </Label>\r\n\r\n              <Label className=\"mt-4\">\r\n                <span>Mot de passe</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={credentials.password}\r\n                  placeholder=\"***************\"\r\n                  onChange={handleChange}\r\n                />\r\n              </Label>\r\n\r\n              <Button className=\"mt-4\" block onClick={() => login(credentials)}>\r\n                Se Connecter\r\n              </Button>\r\n\r\n              <hr className=\"my-8\" />\r\n\r\n              <p className=\"mt-4\">\r\n                <Link\r\n                  className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\r\n                  to=\"/forgot-password\"\r\n                >\r\n                  Mot de passe oubli√©?\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}