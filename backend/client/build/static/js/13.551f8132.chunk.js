(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[13],{219:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a(1),c=a(14),s=a(0),r=a.n(s),o=a(26),i=a(25),m=a(60),u=a(59),d=a(62),b=a(33),f=a(27),E=a(61);t.default=function(){var e,t,a=Object(o.b)(),p=Object(o.c)((function(e){return e.sendingConfigs.collection})),g=Object(o.c)((function(e){return e.config.dataLists})),v=Object(s.useState)(!1),h=Object(c.a)(v,2),y=h[0],j=h[1],k=Object(s.useState)(Object(l.a)(Object(l.a)({},E.sendingConfigsSchema),{},{enabled:!0,status:"first"})),O=Object(c.a)(k,2),C=O[0],x=O[1],S=Object(s.useState)(1),N=Object(c.a)(S,2),T=N[0],L=N[1],w=Object(s.useState)([]),P=Object(c.a)(w,2),I=P[0],_=P[1];Object(s.useEffect)((function(){a(b.a.getAll()),a(f.a.getSelectsLists())}),[a]);var R=p.items.length,A=function(e){x(Object(l.a)(Object(l.a)({},C),{},Object(n.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){p.items.length>0&&_(p.items.slice(10*(T-1),10*T))}),[T,p.items]),Object(s.useEffect)((function(){g.loaded&&(console.log(g.companiesList),x((function(e){var t,a;return Object(l.a)(Object(l.a)({},e),{},{company:null===(t=g.companiesList)||void 0===t?void 0:t[0]._id,process:null===(a=g.processesList)||void 0===a?void 0:a[0]._id})})))}),[g]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,"Sending Configurations"),r.a.createElement("div",null,r.a.createElement(i.Button,{className:"mb-5",iconLeft:m.EditIcon,onClick:function(){return j(!y)}},y?"Fermer":"Ajouter"),y&&r.a.createElement("div",{className:"flex flex-col"},!g.error.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"px-4 py-3 mb-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},r.a.createElement(i.Label,null,r.a.createElement("span",null,"Company"),r.a.createElement(i.Select,{className:"mt-1",name:"company",value:C.company,onChange:A},null===(e=g.companiesList)||void 0===e?void 0:e.map((function(e){return r.a.createElement("option",{key:"company_"+e.name,value:e._id},e.name)})))),r.a.createElement(i.Label,null,r.a.createElement("span",null,"Process"),r.a.createElement(i.Select,{className:"mt-1",value:C.process,name:"process",onChange:A},null===(t=g.processesList)||void 0===t?void 0:t.map((function(e){return r.a.createElement("option",{key:"process_"+e.name,value:e._id},e.name)})))),r.a.createElement(i.Label,null,r.a.createElement("span",null,"Status"),r.a.createElement(i.Select,{className:"mt-1",name:"status",onChange:A},r.a.createElement("option",{value:"first"},"PREMIER ENVOI"),r.a.createElement("option",{value:"relance"},"RELANCE"))),r.a.createElement(i.Label,null,r.a.createElement("span",null,"Custom Text"),r.a.createElement(i.Textarea,{className:"mt-1",rows:"3",name:"customText",onChange:A,placeholder:"Enter some long form content."})),r.a.createElement(i.Label,{className:"mt-3",check:!0},r.a.createElement(i.Input,{type:"checkbox",name:"enabled",checked:C.enabled,onChange:function(e){x(Object(l.a)(Object(l.a)({},C),{},Object(n.a)({},e.target.name,e.target.checked)))}}),r.a.createElement("span",{className:"ml-2"},C.enabled?"Activ\xe9":"D\xe9sactiv\xe9")))),r.a.createElement(i.Button,{className:"mb-5 self-end",iconLeft:m.EditIcon,onClick:function(){a(b.a.create(C))}},"Ajouter")))),p.fetching&&r.a.createElement("p",null,"Chargement..."),p.loaded&&p.items.length>0&&r.a.createElement(d.a,{type:"sendingConfigs",service:"ni",columns:[{name:"Company",subKey:"name"},{name:"Process",subKey:"name"},{name:"Status"},{name:"Custom Text",key:"customText"},{name:"Last Sending",key:"lastMailDate"},{name:"Next Sending",key:"nextMailDate"}],data:I,pagination:{totalResults:R,resultsPerPage:10,onPageChangeTable:function(e){L(e)}},deleteItem:function(e){return function(){window.confirm("Etes-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment?")&&a(b.a.deleteItem(e))}}}))}},59:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=function(e){var t=e.children;return l.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},t)}},61:function(e,t,a){"use strict";a.r(t),a.d(t,"experiencesSchema",(function(){return l})),a.d(t,"learningsSchema",(function(){return c})),a.d(t,"educationsSchema",(function(){return s})),a.d(t,"skillsSchema",(function(){return r})),a.d(t,"projectsSchema",(function(){return o})),a.d(t,"companiesSchema",(function(){return m})),a.d(t,"processesSchema",(function(){return u})),a.d(t,"sendingConfigsSchema",(function(){return d})),a.d(t,"emailTemplatesSchema",(function(){return b}));var n=a(1),l=i({title:"",society:"",place:"",date:""}),c={name:""},s=i({title:"",school:"",place:"",date:""}),r=i({name:"",text:""}),o=Object(n.a)(Object(n.a)({},i({name:"",stacks:[],date:""})),{},{file:void 0,url:""});function i(e){return{en:Object(n.a)({},e),fr:Object(n.a)({},e)}}var m={name:"",address:"",email:"",contactGender:"0",contactLastname:"",contactFirstname:""},u={name:""},d={company:"",process:"",status:"",customText:"",lastMailDate:"",nextMailDate:"",enabled:!0},b={name:"",subject:"",header:"",content:"",footer:"",status:"first",process:""}},62:function(e,t,a){"use strict";var n=a(0),l=a.n(n),c=a(20),s=a(60),r=a(25);t.a=function(e){var t;return l.a.createElement("div",{className:null!==(t=e.className)&&void 0!==t?t:""},l.a.createElement(r.TableContainer,{className:"mb-8"},l.a.createElement(r.Table,null,l.a.createElement(r.TableHeader,null,l.a.createElement("tr",null,e.columns.map((function(e,t){return l.a.createElement(r.TableCell,{key:t},e.name)})),l.a.createElement(r.TableCell,null,"Actions"))),l.a.createElement(r.TableBody,null,e.data.map((function(t,a){return l.a.createElement(r.TableRow,{key:a},e.columns.map((function(a){var n,c,s,o,i=null!==(n=a.key)&&void 0!==n?n:a.name.toLowerCase(),m=null!==(c=a.subKey)&&void 0!==c?c:"",u=e.languages?t.fr[i]:t[i];("concat"===a.type&&"undefined"!==typeof a.keys&&(u=e.languages?t.fr[a.keys[0]]+" "+t.fr[a.keys[1]]:t[a.keys[0]]+" "+t[a.keys[1]]),m)&&(u=null!==(s=null===(o=u)||void 0===o?void 0:o[m])&&void 0!==s?s:u);return l.a.createElement(r.TableCell,{key:"".concat(a.name,"_th")},l.a.createElement("div",{className:"flex items-center text-sm"},l.a.createElement("div",null,l.a.createElement("p",{className:"font-semibold"},u))))})),l.a.createElement(r.TableCell,null,l.a.createElement("div",{className:"flex items-center space-x-4"},l.a.createElement(c.b,{to:"/".concat(e.service,"/").concat(e.type,"/").concat(t._id)},l.a.createElement(r.Button,{layout:"link",size:"icon","aria-label":"Edit"},l.a.createElement(s.EditIcon,{className:"w-5 h-5","aria-hidden":"true"}))),l.a.createElement(r.Button,{layout:"link",size:"icon","aria-label":"Delete",onClick:e.deleteItem(t._id)},l.a.createElement(s.TrashIcon,{className:"w-5 h-5","aria-hidden":"true"})))))})))),l.a.createElement(r.TableFooter,null,l.a.createElement(r.Pagination,{totalResults:e.pagination.totalResults,resultsPerPage:e.pagination.resultsPerPage,onChange:e.pagination.onPageChangeTable,label:"Table navigation"}))))}}}]);
//# sourceMappingURL=13.551f8132.chunk.js.map