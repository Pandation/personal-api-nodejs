(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[19],{220:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(26),l=a(25),r=a(66),i=a(27);t.default=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.config.dataLists}));return Object(n.useEffect)((function(){e(i.a.getSelectsLists())}),[]),!t.loaded||t.fetching?c.a.createElement("p",null,"Chargement..."):c.a.createElement(r.a,{title:"Sending Configuration",type:"sendingConfigs",options:{selectKeys:{company:"_id",process:"_id"}}},(function(e,a,n){var s,r;return c.a.createElement("div",null,c.a.createElement("div",{className:"px-4 py-3 mb-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},c.a.createElement(l.Label,null,c.a.createElement("span",null,"Company"),c.a.createElement(l.Select,{className:"mt-1",name:"company",value:e.values.company,onChange:a},null===(s=t.companiesList)||void 0===s?void 0:s.map((function(e){return c.a.createElement("option",{key:"company_"+e.name,value:e._id},e.name)})))),c.a.createElement(l.Label,null,c.a.createElement("span",null,"Process"),c.a.createElement(l.Select,{className:"mt-1",value:e.values.process,name:"process",onChange:a},null===(r=t.processesList)||void 0===r?void 0:r.map((function(e){return c.a.createElement("option",{key:"process_"+e.name,value:e._id},e.name)})))),c.a.createElement(l.Label,null,c.a.createElement("span",null,"Status"),c.a.createElement(l.Select,{className:"mt-1",name:"status",value:e.values.status,onChange:a},c.a.createElement("option",{name:"status",value:"first"},"PREMIER ENVOI"),c.a.createElement("option",{name:"status",value:"relance"},"RELANCE"))),c.a.createElement(l.Label,null,c.a.createElement("span",null,"Custom Text"),c.a.createElement(l.Textarea,{className:"mt-1",rows:"3",name:"customText",onChange:a,value:e.values.customText})),c.a.createElement(l.Label,{className:"mt-3",check:!0},c.a.createElement(l.Input,{type:"checkbox",name:"enabled",checked:e.values.enabled,onChange:n}),c.a.createElement("span",{className:"ml-2"},e.values.enabled?"Activ\xe9":"D\xe9sactiv\xe9"))))}))}},59:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function(e){var t=e.children;return c.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},t)}},61:function(e,t,a){"use strict";a.r(t),a.d(t,"experiencesSchema",(function(){return c})),a.d(t,"learningsSchema",(function(){return s})),a.d(t,"educationsSchema",(function(){return l})),a.d(t,"skillsSchema",(function(){return r})),a.d(t,"projectsSchema",(function(){return i})),a.d(t,"companiesSchema",(function(){return u})),a.d(t,"processesSchema",(function(){return m})),a.d(t,"sendingConfigsSchema",(function(){return d})),a.d(t,"emailTemplatesSchema",(function(){return f}));var n=a(1),c=o({title:"",society:"",place:"",date:""}),s={name:""},l=o({title:"",school:"",place:"",date:""}),r=o({name:"",text:""}),i=Object(n.a)(Object(n.a)({},o({name:"",stacks:[],date:""})),{},{file:void 0,url:""});function o(e){return{en:Object(n.a)({},e),fr:Object(n.a)({},e)}}var u={name:"",address:"",email:"",contactGender:"0",contactLastname:"",contactFirstname:""},m={name:""},d={company:"",process:"",status:"",customText:"",lastMailDate:"",nextMailDate:"",enabled:!0},f={name:"",subject:"",header:"",content:"",footer:"",status:"first",process:""}},66:function(e,t,a){"use strict";var n=a(3),c=a(1),s=a(14),l=a(0),r=a.n(l),i=a(26),o=a(4),u=a(59),m=a(25),d=a(27),f=a(31),p=a(30),v=a(29),b=a(28),g=a(32),E=a(34),O=a(35),h=a(33),j={config:d.a,learnings:f.a,experiences:p.a,educations:v.a,skills:b.a,companies:g.a,processes:E.a,emailTemplates:O.a,sendingConfigs:h.a},y=a(61),S=a(60),k=function(e){return r.a.createElement("div",null,e.children,r.a.createElement(m.Button,{className:"mb-5 self-end",iconLeft:S.EditIcon,onClick:e.save},e.isEditForm?"Enregistrer les modifications":"Ajouter"))};t.a=function(e){var t=Object(o.i)().id,a=Object(i.b)(),d=Object(o.g)(),f=Object(l.useState)({loaded:!1,values:JSON.parse(JSON.stringify(y[e.type+"Schema"]))}),p=Object(s.a)(f,2),v=p[0],b=p[1],g=Object(i.c)((function(t){return t[e.type].item})),E=e.language?function(e){return function(t){t.persist(),b((function(a){return Object(c.a)(Object(c.a)({},a),{},{values:Object(c.a)(Object(c.a)({},a.values),{},Object(n.a)({},e,Object(c.a)(Object(c.a)({},a.values[e]),{},Object(n.a)({},t.target.name,t.target.value))))})}))}}:function(e){e.persist(),b((function(t){return Object(c.a)(Object(c.a)({},t),{},{values:Object(c.a)(Object(c.a)({},t.values),{},Object(n.a)({},e.target.name,e.target.value))})}))};return Object(l.useEffect)((function(){t&&a(j[e.type].getOne(t))}),[t]),Object(l.useEffect)((function(){if(g.loaded&&!g.fetching){var t=JSON.parse(JSON.stringify(v.values));if(e.language)for(var a in t)for(var n in t[a]){var c;if("undefined"!==typeof g.data[a][n])(null===(c=e.options)||void 0===c?void 0:c.selectKeys)&&e.options.selectKeys[n]?t[a][n]=g.data[a][n][e.options.selectKeys[n]]:t[a][n]=g.data[a][n]}else for(var s in t){var l;if("undefined"!==typeof g.data[s])(null===(l=e.options)||void 0===l?void 0:l.selectKeys)&&e.options.selectKeys[s]?t[s]=g.data[s][e.options.selectKeys[s]]:t[s]=g.data[s]}b({values:t,loaded:!0})}}),[g.loaded,g.fetching]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,e.title),r.a.createElement("div",null,r.a.createElement(m.Button,{className:"mb-3",onClick:function(){return d.goBack()}},"Revenir")),v.loaded&&!g.fetching&&r.a.createElement(k,{save:function(){a(j[e.type].update({id:t,params:v.values}))},isEditForm:!0},!0===g.error.status&&r.a.createElement(m.Alert,{type:"warning"},g.error.message),e.children(v,E,(function(e){b((function(t){return Object(c.a)(Object(c.a)({},t),{},{values:Object(c.a)(Object(c.a)({},t.values),{},Object(n.a)({},e.target.name,e.target.checked))})}))}))))}}}]);
//# sourceMappingURL=19.6f5e3120.chunk.js.map